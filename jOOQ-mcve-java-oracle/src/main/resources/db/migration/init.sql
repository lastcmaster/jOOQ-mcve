CREATE TABLE "MCVE"."T_MIMEDATA" ("ID" CHAR(22) NOT NULL,
                                  "TYPE" VARCHAR2(128) DEFAULT 'application' NOT NULL,
                                  "SUBTYPE" VARCHAR2(128) DEFAULT 'octet-stream' NOT NULL,
                                  "NAME" VARCHAR2(255),
                                  "STORAGE" BLOB,
                                  "EXTSTORAGE" BFILE,
                                  CONSTRAINT "PK_MIMEDATA" PRIMARY KEY ("ID")
);

CREATE VIEW "MCVE"."T_MIMEDATA_READ" AS
SELECT
    "ID",
    "TYPE",
    "SUBTYPE",
    "NAME",
    COALESCE("STORAGE", TO_BLOB("EXTSTORAGE")) "STORAGE"
FROM
    "T_MIMEDATA";
